# AI Chat Guardian WebæœåŠ¡éƒ¨ç½²æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

AI Chat Guardian WebæœåŠ¡ç‰ˆæä¾›äº†åŸºäºæµè§ˆå™¨çš„ç”¨æˆ·ç•Œé¢å’ŒRESTful APIï¼Œå¯ä»¥åœ¨å±€åŸŸç½‘å†…éƒ¨ç½²ï¼Œä¾›å›¢é˜Ÿæˆå‘˜å…±åŒä½¿ç”¨ã€‚

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### Windowsç³»ç»Ÿ

1. **åŒå‡»å¯åŠ¨è„šæœ¬**
   ```
   start_web.bat
   ```

2. **æˆ–ä½¿ç”¨å‘½ä»¤è¡Œ**
   ```bash
   python web_server.py --host 0.0.0.0 --port 5000
   ```

### Linux/Macç³»ç»Ÿ

```bash
chmod +x start_web.sh
./start_web.sh
```

## ğŸŒ è®¿é—®æ–¹å¼

### æœ¬æœºè®¿é—®
```
http://localhost:5000
```

### å±€åŸŸç½‘è®¿é—®
```
http://<æœåŠ¡å™¨IPåœ°å€>:5000
```

**æŸ¥çœ‹æœ¬æœºIPåœ°å€ï¼š**
- Windows: `ipconfig` (æŸ¥çœ‹IPv4åœ°å€)
- Linux/Mac: `ifconfig` æˆ– `ip addr`

## ğŸ“¡ APIæ¥å£æ–‡æ¡£

### 1. å¥åº·æ£€æŸ¥

**ç«¯ç‚¹:** `GET /api/health`

**å“åº”ç¤ºä¾‹:**
```json
{
  "status": "healthy",
  "guardian_available": true,
  "llm_available": true,
  "llm_model": "gemma3:1b"
}
```

### 2. æ–‡æœ¬æ£€æµ‹

**ç«¯ç‚¹:** `POST /api/detect`

**è¯·æ±‚ä½“:**
```json
{
  "text": "å¾…æ£€æµ‹çš„æ–‡æœ¬",
  "auto_obfuscate": true
}
```

**å“åº”ç¤ºä¾‹:**
```json
{
  "success": true,
  "data": {
    "has_sensitive": true,
    "detection_count": 2,
    "original_text": "å…¬å¸è¥æ”¶5000ä¸‡å…ƒ",
    "safe_text": "å…¬å¸è¥æ”¶[financialå·²éšè—]",
    "detections": [
      {
        "type": "financial",
        "content": "5000ä¸‡å…ƒ",
        "start": 4,
        "end": 11,
        "confidence": 0.8
      }
    ],
    "llm_raw_response": "..."
  }
}
```

### 3. è·å–é…ç½®

**ç«¯ç‚¹:** `GET /api/config`

**å“åº”ç¤ºä¾‹:**
```json
{
  "success": true,
  "config": {
    "llm_detector": {
      "enable": true,
      "model": "gemma3:1b",
      "threshold": 0.7
    }
  }
}
```

### 4. è·å–å¯ç”¨æ¨¡å‹

**ç«¯ç‚¹:** `GET /api/models`

**å“åº”ç¤ºä¾‹:**
```json
{
  "success": true,
  "current_model": "gemma3:1b",
  "models": [
    {
      "name": "gemma3:1b",
      "description": "0.76GB - æœ€å¿«,æ¨èæ—¥å¸¸ä½¿ç”¨"
    }
  ]
}
```

## âš™ï¸ é…ç½®è¯´æ˜

### è‡ªå®šä¹‰ç«¯å£

```bash
python web_server.py --port 8080
```

### ä»…æœ¬æœºè®¿é—®ï¼ˆæ›´å®‰å…¨ï¼‰

```bash
python web_server.py --host 127.0.0.1 --port 5000
```

### å¯ç”¨è°ƒè¯•æ¨¡å¼

```bash
python web_server.py --debug
```

## ğŸ”’ å®‰å…¨å»ºè®®

1. **é˜²ç«å¢™é…ç½®**
   - åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¯·é…ç½®é˜²ç«å¢™è§„åˆ™ï¼Œä»…å…è®¸ä¿¡ä»»çš„IPè®¿é—®
   - Windows: æ§åˆ¶é¢æ¿ â†’ Windows Defender é˜²ç«å¢™ â†’ é«˜çº§è®¾ç½®

2. **HTTPSæ”¯æŒ**
   - å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œå»ºè®®ä½¿ç”¨Nginxæˆ–Apacheä½œä¸ºåå‘ä»£ç†
   - é…ç½®SSLè¯ä¹¦å¯ç”¨HTTPSåŠ å¯†ä¼ è¾“

3. **è®¿é—®æ§åˆ¶**
   - å¯ä»¥åœ¨ä»£ç ä¸­æ·»åŠ APIå¯†é’¥éªŒè¯
   - æˆ–ä½¿ç”¨Nginxçš„basic authè¿›è¡Œè®¿é—®æ§åˆ¶

## ğŸ§ª æµ‹è¯•æœåŠ¡

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸ï¼š

```bash
python test_web_api.py
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: æ— æ³•è®¿é—®Webç•Œé¢
**A:** 
1. æ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨
2. æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦æ”¾è¡Œç«¯å£
3. ç¡®è®¤ä½¿ç”¨æ­£ç¡®çš„IPåœ°å€

### Q: LLMæ£€æµ‹å™¨ä¸å¯ç”¨
**A:** 
1. ç¡®ä¿OllamaæœåŠ¡å·²å¯åŠ¨
2. æ£€æŸ¥æ¨¡å‹æ˜¯å¦å·²ä¸‹è½½
3. æŸ¥çœ‹é…ç½®æ–‡ä»¶ä¸­çš„æ¨¡å‹åç§°æ˜¯å¦æ­£ç¡®

### Q: æ£€æµ‹é€Ÿåº¦æ…¢
**A:** 
1. ä½¿ç”¨æ›´å°çš„æ¨¡å‹ï¼ˆå¦‚gemma3:1bï¼‰
2. ç¡®ä¿OllamaæœåŠ¡è¿è¡Œåœ¨æœ¬åœ°
3. æ£€æŸ¥ç³»ç»Ÿèµ„æºå ç”¨æƒ…å†µ

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

1. **æ¨¡å‹é€‰æ‹©**
   - æ—¥å¸¸ä½¿ç”¨: gemma3:1b (0.76GB, æœ€å¿«)
   - é«˜ç²¾åº¦: qwen2.5:7b (4.36GB, å‡†ç¡®)

2. **å¹¶å‘å¤„ç†**
   - Flaské»˜è®¤å¯ç”¨å¤šçº¿ç¨‹
   - å¯ä½¿ç”¨Gunicornæé«˜å¹¶å‘èƒ½åŠ›

3. **ç¼“å­˜ç­–ç•¥**
   - è€ƒè™‘å¯¹ç›¸åŒæ–‡æœ¬çš„æ£€æµ‹ç»“æœè¿›è¡Œç¼“å­˜
   - å‡å°‘é‡å¤çš„LLMè°ƒç”¨

## ğŸ“ æ—¥å¿—æŸ¥çœ‹

æœåŠ¡è¿è¡Œæ—¥å¿—ä¼šè¾“å‡ºåˆ°æ§åˆ¶å°ï¼ŒåŒ…å«ï¼š
- è¯·æ±‚ä¿¡æ¯
- æ£€æµ‹ç»“æœç»Ÿè®¡
- é”™è¯¯ä¿¡æ¯
- æ€§èƒ½æ•°æ®

## ğŸ”„ æ›´æ–°éƒ¨ç½²

1. æ‹‰å–æœ€æ–°ä»£ç 
2. å®‰è£…æ–°ä¾èµ–: `pip install -r requirements.txt`
3. é‡å¯æœåŠ¡

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- GitHub Issues: https://github.com/0qinghao/AI_chat_guardian/issues
- æ–‡æ¡£: æŸ¥çœ‹é¡¹ç›®README.md

---

**ç‰ˆæœ¬:** 1.0.0  
**æ›´æ–°æ—¥æœŸ:** 2025-10-24
